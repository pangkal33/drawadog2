<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dog Park üèûÔ∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; text-align: center; padding: 20px;
           background: linear-gradient(to top, #a8edea, #c8f7c5); overflow: hidden; }
    h1 { margin-bottom: 10px; font-weight: 600; }
    #dogPark { position: relative; width: 100%; height: 400px;
               border-radius: 16px; background: linear-gradient(to top, #55efc4, #81ecec);
               overflow: hidden; margin-top: 20px; box-shadow: inset 0 -20px 50px rgba(0,0,0,0.1); }
    .dog { position: absolute; width: 80px; border-radius: 10px; filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3)); }
    .cloud { position: absolute; top: 20px; background: white; border-radius: 50%; opacity: 0.8; }
    .cloud:before, .cloud:after { content: ''; position: absolute; background: white; border-radius: 50%; }
    .cloud.small { width: 60px; height: 30px; }
    .cloud.small:before { width: 30px; height: 30px; left: -15px; top: -10px; }
    .cloud.small:after { width: 40px; height: 40px; left: 25px; top: -15px; }
    button { background: #6c5ce7; color: white; border: none; padding: 10px 20px;
             border-radius: 30px; margin: 10px; cursor: pointer; font-weight: 600;
             transition: transform 0.2s, background 0.3s; }
    button:hover { background: #341f97; transform: scale(1.05); }
    a { color: #341f97; text-decoration: none; font-weight: 600; }
  </style>
</head>
<body>
  <h1>Dog Park üê∂</h1>
  <audio id="bgMusic" autoplay loop>
    <source src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" type="audio/mpeg">
  </audio>
  <button onclick="toggleMusic()">üéµ Toggle Music</button>
  <div id="dogPark"></div>
  <p><a href="dogdraw.html">Back to Dog Draw üé®</a></p>

  <script>
    const dogPark = document.getElementById("dogPark");
    const dogs = JSON.parse(localStorage.getItem("dogs") || "[]");

    // Clouds
    function createCloud(x,y){
      const c = document.createElement("div");
      c.className = "cloud small";
      c.style.left = x+"px";
      c.style.top = y+"px";
      dogPark.appendChild(c);
      return c;
    }
    const clouds = [createCloud(50,50), createCloud(200,80), createCloud(350,40)];
    let cloudX = [50,200,350];

    class Dog {
      constructor(src){
        this.el = document.createElement("img");
        this.el.src = src;
        this.el.className = "dog";
        this.el.style.left = Math.random()*300+"px";
        this.el.style.top = Math.random()*300+"px";
        dogPark.appendChild(this.el);
        this.x = parseFloat(this.el.style.left);
        this.y = parseFloat(this.el.style.top);
        this.vx = (Math.random()*2+1) * (Math.random()<0.5?-1:1);
        this.vy = (Math.random()*2+1) * (Math.random()<0.5?-1:1);
      }
      move(){
        this.x += this.vx;
        this.y += this.vy;
        if(this.x<0 || this.x>dogPark.clientWidth-80) this.vx*=-1;
        if(this.y<0 || this.y>dogPark.clientHeight-80) this.vy*=-1;
        this.el.style.left = this.x+"px";
        this.el.style.top = this.y+"px";
      }
    }

    const dogObjs = dogs.map(src => new Dog(src));

    function animate(){
      dogObjs.forEach(d=>d.move());
      cloudX = cloudX.map((cx,i)=>{
        cx += 0.2;
        if(cx>dogPark.clientWidth+60) cx=-100;
        clouds[i].style.left = cx+"px";
        return cx;
      });
      requestAnimationFrame(animate);
    }
    animate();

    // Music toggle
    const bgMusic = document.getElementById("bgMusic");
    function toggleMusic(){
      if(bgMusic.paused){ bgMusic.play(); }
      else { bgMusic.pause(); }
    }
  </script>
</body>
</html>
